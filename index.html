<html>

<head>
	<title> ABMVIZ</title>
	<link rel="shortcut icon" href="">
	<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css" />
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="bower_components/d3/d3.min.js"></script>
	<script type="text/javascript">
		$.getJSON( "config.json", function (data) {
           $.each(data, function (key, val) {

               var regiontitle = "";
               if(key =="regions") {
                   $.each(val, function (k, v) {
                       $('#scenarios').append('<div id="' + k + '_id' + '"></div>');
                       var defaultSet = false;
                       var dataLocation;
                       dataLocation = v.datalocation;

 
                       if (!defaultSet) {
                           $.getJSON(dataLocation + "region.json"+"?jsoncallback=?", function (reg) {
                               regiontitle = reg.FrontPageTitle;

                               setdefault = true;
                               var icon = reg.Icon;
                               var logo = reg.Logo;
                               var title = reg.Title;
                               var linkURL = reg.LinkURL;
                               var navbartitle = reg.NavbarTitle;
                               $("link[rel*='icon']").attr("href", dataLocation + "/img/" + icon + "");
                               $("title").text(title);
                               $('#title_id').text(navbartitle);
                               $('#navbarlink').attr("href", linkURL);
                               $('#logo_id').attr("src", dataLocation + "/img/" + logo + "");

                               defaultSet = true;


                               $('#' + k + '_id').append("<h4>" + regiontitle + "<img style='max-height: 25px;margin-left:2%;'src='" + dataLocation + "/img/" + reg.FrontPageGraphic + "" + "'/>" + "</h4>");

                               $('#' + k + '_id').append("<ul id='" + k + "_scenarios' class='scenarios' style='margin-bottom: 25px;'> </ul>");

                               $.each(reg.scenarios, function (key, value) {
                                   if (Array.isArray(reg.scenarios)) {

                                       $("#" + k + "_scenarios").append("<li><a class='scenariolink' href='src/index.html?region=" + k + "&scenario=" + value.name + "'>" + value.name + value.label + "</a></li>");

                                   } else {
                                       $("#" + k + "_scenarios").append("<li><a class='scenariolink' href='src/index.html?region=" + k + "&scenario=" + key + "'>" + key + value + "</a></li>");
                                   }
                               });


                           });
                       }
                   });
               }
           });
        });

	</script>
</head>

<body>
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-header">
			<a id="navbarlink" href="" style="padding-left:1em;padding-top:1.1em;margin-right:-.5em;" class="pull-left"><img id="logo_id" style='max-height:25px;' width="" height="auto" src=""></a> <a class="navbar-brand" id="title_id" href="#">.</a> </div>
	</nav>
	<div id="scenarios" style="margin:5em;">
 <div id="novizalert" class="alert alert-danger" style="display:none">Please select at least one visualization to display</div>
        <h3><p>Please select a scenario for visualization</p></h3>

            <br/>
	</div>

</body>

</html>